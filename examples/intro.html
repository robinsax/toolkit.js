<!DOCTYPE html>
<html lang="en">
	<head>
		<script src="../toolkit.js"></script>
		<script defer>
			//  Create an instance of toolkit.js.
			var tk = createToolkit({debug: true});

			//  Create some data (in this case, a list of breakfasts).
			window.breakfastList = [
				{
					name: 'The Classic',
					description: 'A classic homestyle breakfast',
					link: './the_classic'
				},
				{
					name: 'Just Toast',
					description: 'Literally just toast',
					link: './just_toast'
				}
			];

			//	Define an initialization function.
			tk.init(function(){
				//	Create a live view of the data.

				tk.binding(breakfastList)
					//	Specify an element to bind the data onto.
					.onto(tk('body').append('div'))
						//	Specify the root tag to be created for each item in the array.
						.tag('aside')
						//	Specify how to represent each item within its element.
						.placement(function(breakfast, element){
							//	Bind the name property onto a header element.
							tk.binding(breakfast, 'name')
								.onto(element.append('h4'))
								.begin();
							
							//	Bind the description property onto a paragraph element.
							tk.binding(breakfast, 'description')
								.onto(element.append('p'))
								.begin();
							
							//	Bind the link property onto the href attribute of a link.
							tk.binding(breakfast, 'link')
								.onto(element.append('a').text('Learn more'))
									.placement(function(d, e){ e.attr('href', d); })
								.begin();
						})
				//	Actualize the binding.
				.begin();

				//	Create a button that modifies the list.
				tk('body').append('input')
					.attr({
						type: 'button',
						value: 'Modify'
					})
					.on('click', function(e){
						//	Update properties of the first data item.
						breakfastList[0].name = 'The Classic 2.0';
						breakfastList[0].link = '/the_classic_2';

						//	Add a new item to the list.
						breakfastList.push({
							name: 'The Next Morning',
							description: 'Coffee, pancakes, and fruit salad are the cure',
							link: '/the_next_morning'
						});
						
						//	Remove the button.
						e.remove();
					});
			});	
		</script>
	</head>
	<body>
	</body>
</html>